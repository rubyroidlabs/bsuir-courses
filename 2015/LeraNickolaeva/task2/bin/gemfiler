Dir['../lib/*.rb'].each{ |f| require_relative(f) }

if ARGV.size < 2
  raise ArgumentError
end

gem_name, gem_version = ARGV

unless (gem_name =~ /\w+/) && (gem_version =~ /[~><][=>]\s*(\d+\.)*\d+/)
  raise ArgumentError
end

versions = VersionFetcher.new(gem_name).fetch
filtered_versions = VersionFilter.new(versions).filter(gem_version)
Visualiser.new(versions).visualise(filtered_versions)
